{
  "data": {
    "trace": {
      "spans": [
        {
          "traceId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000003",
          "segmentId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000002",
          "spanId": 0,
          "parentSpanId": -1,
          "refs": [],
          "serviceCode": "ts-consign-service",
          "serviceInstanceName": "49060ec3bc134fea82f334e922bd1f4f@172.22.0.41",
          "startTime": 1717672721800,
          "endTime": 1717672722856,
          "endpointName": "POST:/api/v1/consignservice/consigns/fault/{id}",
          "type": "Entry",
          "peer": "",
          "component": "SpringMVC",
          "isError": true,
          "layer": "Http",
          "tags": [
            {
              "key": "url",
              "value": "http://172.22.0.41:16111/api/v1/consignservice/consigns/fault/b16501e0-de1f-40f1-a699-66ee9e13ddb6"
            },
            {
              "key": "http.method",
              "value": "POST"
            },
            {
              "key": "http.param",
              "value": "\"b16501e0-de1f-40f1-a699-66ee9e13ddb6\""
            },
            {
              "key": "http.status_code",
              "value": "500"
            }
          ],
          "logs": [
            {
              "time": 1717672722848,
              "data": [
                {
                  "key": "event",
                  "value": "error"
                },
                {
                  "key": "error.kind",
                  "value": "org.springframework.dao.DataIntegrityViolationException"
                },
                {
                  "key": "message",
                  "value": "could not execute statement; SQL [n/a]; constraint [PRIMARY]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement"
                },
                {
                  "key": "stack",
                  "value": "org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [PRIMARY]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:298)\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:255)\nat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:538)\nat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\nat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:633)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:386)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\nat com.sun.proxy.$Proxy189.save(Unknown Source)\nat consign.service.ConsignServiceImpl.insertConsignRecord(ConsignServiceImpl.java:79)\nat consign.service.ConsignServiceImpl.insertConsignRecordFault(ConsignServiceImpl.java:169)\nat consign.controller.ConsignController.$sw$original$insertConsignFault$54lpqr2(ConsignController.java:73)\nat consign.controller.ConsignController.$sw$original$insertConsignFault$54lpqr2$accessor$$sw$oknpj01(ConsignController.java)\nat consign.controller.ConsignController$$sw$auxiliary$e1bved0.call(Unknown Source)\nat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\nat consign.controller.ConsignController.insertConsignFault(ConsignController.java)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n"
                }
              ]
            },
            {
              "time": 1717672722852,
              "data": [
                {
                  "key": "event",
                  "value": "error"
                },
                {
                  "key": "error.kind",
                  "value": "org.springframework.web.util.NestedServletException"
                },
                {
                  "key": "message",
                  "value": "Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [PRIMARY]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement"
                },
                {
                  "key": "stack",
                  "value": "org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [PRIMARY]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat edu.fudan.common.security.jwt.JWTFilter.doFilterInternal(JWTFilter.java:27)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n"
                }
              ]
            },
            {
              "time": 1717672722853,
              "data": [
                {
                  "key": "forward-url",
                  "value": "/error"
                }
              ]
            }
          ]
        },
        {
          "traceId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000003",
          "segmentId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000002",
          "spanId": 1,
          "parentSpanId": 0,
          "refs": [],
          "serviceCode": "ts-consign-service",
          "serviceInstanceName": "49060ec3bc134fea82f334e922bd1f4f@172.22.0.41",
          "startTime": 1717672721815,
          "endTime": 1717672721816,
          "endpointName": "HikariCP/Connection/getConnection",
          "type": "Local",
          "peer": "",
          "component": "HikariCP",
          "isError": false,
          "layer": "Unknown",
          "tags": [],
          "logs": []
        },
        {
          "traceId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000003",
          "segmentId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000002",
          "spanId": 2,
          "parentSpanId": 0,
          "refs": [],
          "serviceCode": "ts-consign-service",
          "serviceInstanceName": "49060ec3bc134fea82f334e922bd1f4f@172.22.0.41",
          "startTime": 1717672721817,
          "endTime": 1717672721817,
          "endpointName": "Mysql/JDBC/PreparedStatement/executeQuery",
          "type": "Exit",
          "peer": "ts-consign-mysql:3306",
          "component": "mysql-connector-java",
          "isError": false,
          "layer": "Database",
          "tags": [
            {
              "key": "db.type",
              "value": "Mysql"
            },
            {
              "key": "db.instance",
              "value": "ts"
            },
            {
              "key": "db.statement",
              "value": "select consignrec0_.consign_record_id as consign_1_0_, consignrec0_.user_id as user_id2_0_, consignrec0_.consignee as consigne3_0_, consignrec0_.from_place as from_pla4_0_, consignrec0_.handle_date as handle_d5_0_, consignrec0_.order_id as order_id6_0_, consignrec0_.consign_record_phone as consign_7_0_, consignrec0_.consign_record_price as consign_8_0_, consignrec0_.target_date as target_d9_0_, consignrec0_.to_place as to_plac10_0_, consignrec0_.weight as weight11_0_ from consign_record consignrec0_ where consignrec0_.order_id=?"
            },
            {
              "key": "db.sql.parameters",
              "value": "[b16501e0-de1f-40f1-a699-66ee9e13ddb6]"
            }
          ],
          "logs": []
        },
        {
          "traceId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000003",
          "segmentId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000002",
          "spanId": 3,
          "parentSpanId": 0,
          "refs": [],
          "serviceCode": "ts-consign-service",
          "serviceInstanceName": "49060ec3bc134fea82f334e922bd1f4f@172.22.0.41",
          "startTime": 1717672722819,
          "endTime": 1717672722840,
          "endpointName": "/api/v1/consignpriceservice/consignprice/32.0/false",
          "type": "Exit",
          "peer": "ts-consign-price-service:80",
          "component": "SpringRestTemplate",
          "isError": false,
          "layer": "Http",
          "tags": [
            {
              "key": "url",
              "value": "http://ts-consign-price-service/api/v1/consignpriceservice/consignprice/32.0/false"
            },
            {
              "key": "http.method",
              "value": "GET"
            },
            {
              "key": "http.status_code",
              "value": "200"
            }
          ],
          "logs": []
        },
        {
          "traceId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000003",
          "segmentId": "4858c23f6a87495ab4c563a364489039.96.17176727228250002",
          "spanId": 0,
          "parentSpanId": -1,
          "refs": [
            {
              "traceId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000003",
              "parentSegmentId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000002",
              "parentSpanId": 3,
              "type": "CROSS_PROCESS"
            }
          ],
          "serviceCode": "ts-consign-price-service",
          "serviceInstanceName": "917b2d7804c544249f4da176451244ea@172.22.0.56",
          "startTime": 1717672722825,
          "endTime": 1717672722838,
          "endpointName": "GET:/api/v1/consignpriceservice/consignprice/{weight}/{isWithinRegion}",
          "type": "Entry",
          "peer": "",
          "component": "SpringMVC",
          "isError": false,
          "layer": "Http",
          "tags": [
            {
              "key": "url",
              "value": "http://172.22.0.41:16111/api/v1/consignpriceservice/consignprice/32.0/false"
            },
            {
              "key": "http.method",
              "value": "GET"
            },
            {
              "key": "http.param",
              "value": "\"32.0\""
            },
            {
              "key": "http.response",
              "value": "{\"status\":1,\"msg\":\"Success\",\"data\":132.0}"
            },
            {
              "key": "http.status_code",
              "value": "200"
            }
          ],
          "logs": []
        },
        {
          "traceId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000003",
          "segmentId": "4858c23f6a87495ab4c563a364489039.96.17176727228250002",
          "spanId": 1,
          "parentSpanId": 0,
          "refs": [],
          "serviceCode": "ts-consign-price-service",
          "serviceInstanceName": "917b2d7804c544249f4da176451244ea@172.22.0.56",
          "startTime": 1717672722830,
          "endTime": 1717672722832,
          "endpointName": "HikariCP/Connection/getConnection",
          "type": "Local",
          "peer": "",
          "component": "HikariCP",
          "isError": false,
          "layer": "Unknown",
          "tags": [],
          "logs": []
        },
        {
          "traceId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000003",
          "segmentId": "4858c23f6a87495ab4c563a364489039.96.17176727228250002",
          "spanId": 2,
          "parentSpanId": 0,
          "refs": [],
          "serviceCode": "ts-consign-price-service",
          "serviceInstanceName": "917b2d7804c544249f4da176451244ea@172.22.0.56",
          "startTime": 1717672722832,
          "endTime": 1717672722833,
          "endpointName": "Mysql/JDBC/PreparedStatement/executeQuery",
          "type": "Exit",
          "peer": "ts-consign-price-mysql:3306",
          "component": "mysql-connector-java",
          "isError": false,
          "layer": "Database",
          "tags": [
            {
              "key": "db.type",
              "value": "Mysql"
            },
            {
              "key": "db.instance",
              "value": "ts"
            },
            {
              "key": "db.statement",
              "value": "select consignpri0_.id as id1_0_, consignpri0_.beyond_price as beyond_p2_0_, consignpri0_.idx as idx3_0_, consignpri0_.initial_price as initial_4_0_, consignpri0_.initial_weight as initial_5_0_, consignpri0_.within_price as within_p6_0_ from consign_price consignpri0_ where consignpri0_.idx=?"
            },
            {
              "key": "db.sql.parameters",
              "value": "[0]"
            }
          ],
          "logs": []
        },
        {
          "traceId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000003",
          "segmentId": "4858c23f6a87495ab4c563a364489039.96.17176727228250002",
          "spanId": 3,
          "parentSpanId": 0,
          "refs": [],
          "serviceCode": "ts-consign-price-service",
          "serviceInstanceName": "917b2d7804c544249f4da176451244ea@172.22.0.56",
          "startTime": 1717672722837,
          "endTime": 1717672722837,
          "endpointName": "HikariCP/Connection/close",
          "type": "Local",
          "peer": "",
          "component": "HikariCP",
          "isError": false,
          "layer": "Unknown",
          "tags": [],
          "logs": []
        },
        {
          "traceId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000003",
          "segmentId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000002",
          "spanId": 4,
          "parentSpanId": 0,
          "refs": [],
          "serviceCode": "ts-consign-service",
          "serviceInstanceName": "49060ec3bc134fea82f334e922bd1f4f@172.22.0.41",
          "startTime": 1717672722842,
          "endTime": 1717672722843,
          "endpointName": "Mysql/JDBC/PreparedStatement/executeQuery",
          "type": "Exit",
          "peer": "ts-consign-mysql:3306",
          "component": "mysql-connector-java",
          "isError": false,
          "layer": "Database",
          "tags": [
            {
              "key": "db.type",
              "value": "Mysql"
            },
            {
              "key": "db.instance",
              "value": "ts"
            },
            {
              "key": "db.statement",
              "value": "select consignrec0_.consign_record_id as consign_1_0_0_, consignrec0_.user_id as user_id2_0_0_, consignrec0_.consignee as consigne3_0_0_, consignrec0_.from_place as from_pla4_0_0_, consignrec0_.handle_date as handle_d5_0_0_, consignrec0_.order_id as order_id6_0_0_, consignrec0_.consign_record_phone as consign_7_0_0_, consignrec0_.consign_record_price as consign_8_0_0_, consignrec0_.target_date as target_d9_0_0_, consignrec0_.to_place as to_plac10_0_0_, consignrec0_.weight as weight11_0_0_ from consign_record consignrec0_ where consignrec0_.consign_record_id=?"
            },
            {
              "key": "db.sql.parameters",
              "value": "[b16501e0-de1f-40f1-a699-66ee9e13ddb6]"
            }
          ],
          "logs": []
        },
        {
          "traceId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000003",
          "segmentId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000002",
          "spanId": 5,
          "parentSpanId": 0,
          "refs": [],
          "serviceCode": "ts-consign-service",
          "serviceInstanceName": "49060ec3bc134fea82f334e922bd1f4f@172.22.0.41",
          "startTime": 1717672722844,
          "endTime": 1717672722846,
          "endpointName": "Mysql/JDBC/PreparedStatement/executeUpdate",
          "type": "Exit",
          "peer": "ts-consign-mysql:3306",
          "component": "mysql-connector-java",
          "isError": true,
          "layer": "Database",
          "tags": [
            {
              "key": "db.type",
              "value": "Mysql"
            },
            {
              "key": "db.instance",
              "value": "ts"
            },
            {
              "key": "db.statement",
              "value": "insert into consign_record (user_id, consignee, from_place, handle_date, order_id, consign_record_phone, consign_record_price, target_date, to_place, weight, consign_record_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)"
            },
            {
              "key": "db.sql.parameters",
              "value": "[4d2a46c7-71cb-4cf1-b5bb-b68406d9da6f,32,shanghai,2024-06-06,b16501e0-de1f-40f1-a699-66ee9e13ddb6,12345677654,132.0,2024-06-06 19:18:41,nanjing,32.0,b16501e0-de1f-40f1-a699-66ee9e13ddb6]"
            }
          ],
          "logs": [
            {
              "time": 1717672722846,
              "data": [
                {
                  "key": "event",
                  "value": "error"
                },
                {
                  "key": "error.kind",
                  "value": "java.sql.SQLIntegrityConstraintViolationException"
                },
                {
                  "key": "message",
                  "value": "Duplicate entry 'b16501e0-de1f-40f1-a699-66ee9e13ddb6' for key 'PRIMARY'"
                },
                {
                  "key": "stack",
                  "value": "java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'b16501e0-de1f-40f1-a699-66ee9e13ddb6' for key 'PRIMARY'\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\nat com.mysql.cj.jdbc.ClientPreparedStatement.$sw$original$executeLargeUpdate$hi3e6s0(ClientPreparedStatement.java:1348)\nat com.mysql.cj.jdbc.ClientPreparedStatement.$sw$original$executeLargeUpdate$hi3e6s0$accessor$$sw$2q6k991(ClientPreparedStatement.java)\nat com.mysql.cj.jdbc.ClientPreparedStatement$$sw$auxiliary$45n4i21.call(Unknown Source)\nat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java)\nat com.mysql.cj.jdbc.ClientPreparedStatement.$sw$original$executeUpdate$f0ck0f2(ClientPreparedStatement.java:1025)\nat com.mysql.cj.jdbc.ClientPreparedStatement.$sw$original$executeUpdate$f0ck0f2$accessor$$sw$2q6k991(ClientPreparedStatement.java)\nat com.mysql.cj.jdbc.ClientPreparedStatement$$sw$auxiliary$c1pg4r3.call(Unknown Source)\nat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java)\nat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\nat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3298)\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3825)\nat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\nat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\nat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\nat java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\nat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\nat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\nat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\nat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)\nat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362)\nat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:453)\nat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3212)\nat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2380)\nat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448)\nat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\nat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\nat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\nat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n"
                }
              ]
            },
            {
              "time": 1717672722846,
              "data": [
                {
                  "key": "event",
                  "value": "error"
                },
                {
                  "key": "error.kind",
                  "value": "java.sql.SQLIntegrityConstraintViolationException"
                },
                {
                  "key": "message",
                  "value": "Duplicate entry 'b16501e0-de1f-40f1-a699-66ee9e13ddb6' for key 'PRIMARY'"
                },
                {
                  "key": "stack",
                  "value": "java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'b16501e0-de1f-40f1-a699-66ee9e13ddb6' for key 'PRIMARY'\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\nat com.mysql.cj.jdbc.ClientPreparedStatement.$sw$original$executeLargeUpdate$hi3e6s0(ClientPreparedStatement.java:1348)\nat com.mysql.cj.jdbc.ClientPreparedStatement.$sw$original$executeLargeUpdate$hi3e6s0$accessor$$sw$2q6k991(ClientPreparedStatement.java)\nat com.mysql.cj.jdbc.ClientPreparedStatement$$sw$auxiliary$45n4i21.call(Unknown Source)\nat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java)\nat com.mysql.cj.jdbc.ClientPreparedStatement.$sw$original$executeUpdate$f0ck0f2(ClientPreparedStatement.java:1025)\nat com.mysql.cj.jdbc.ClientPreparedStatement.$sw$original$executeUpdate$f0ck0f2$accessor$$sw$2q6k991(ClientPreparedStatement.java)\nat com.mysql.cj.jdbc.ClientPreparedStatement$$sw$auxiliary$c1pg4r3.call(Unknown Source)\nat org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.InstMethodsInter.intercept(InstMethodsInter.java:86)\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java)\nat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\nat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3298)\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3825)\nat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\nat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\nat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\nat java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\nat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\nat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\nat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\nat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)\nat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362)\nat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:453)\nat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3212)\nat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2380)\nat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448)\nat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\nat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\nat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\nat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n"
                }
              ]
            }
          ]
        },
        {
          "traceId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000003",
          "segmentId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000002",
          "spanId": 6,
          "parentSpanId": 0,
          "refs": [],
          "serviceCode": "ts-consign-service",
          "serviceInstanceName": "49060ec3bc134fea82f334e922bd1f4f@172.22.0.41",
          "startTime": 1717672722846,
          "endTime": 1717672722846,
          "endpointName": "Mysql/JDBC/Connection/rollback",
          "type": "Exit",
          "peer": "ts-consign-mysql:3306",
          "component": "mysql-connector-java",
          "isError": false,
          "layer": "Database",
          "tags": [
            {
              "key": "db.type",
              "value": "Mysql"
            },
            {
              "key": "db.instance",
              "value": "ts"
            },
            {
              "key": "db.statement",
              "value": ""
            }
          ],
          "logs": []
        },
        {
          "traceId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000003",
          "segmentId": "ec59de49ed7844deaf9ad87d4a2e294c.90.17176727218000002",
          "spanId": 7,
          "parentSpanId": 0,
          "refs": [],
          "serviceCode": "ts-consign-service",
          "serviceInstanceName": "49060ec3bc134fea82f334e922bd1f4f@172.22.0.41",
          "startTime": 1717672722848,
          "endTime": 1717672722848,
          "endpointName": "HikariCP/Connection/close",
          "type": "Local",
          "peer": "",
          "component": "HikariCP",
          "isError": false,
          "layer": "Unknown",
          "tags": [],
          "logs": []
        }
      ]
    }
  }
}